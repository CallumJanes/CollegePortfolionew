<!DOCTYPE html>
<link rel="stylesheet" href="/style.css"/>

<head>
    <title>Callum Janes Portfolio</title>
    <link rel="icon" type="image/x-icon" href="/img/portfolio.ico">
    <div class="topnav">
        <a href=/index.html>Home</a>
        <div class="dropdown">
            <button class="dropbtn">My Units
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
              <a href="/src/units/1.html">Unit 1 - The Online World</a>
              <a href="/src/units/2.html">Unit 2 - Technology Systems</a>
              <a href="/src/units/3.html">Unit 3 - A Digital Portfolio</a>
              <a href="/src/units/6.html">Unit 6 - Creating Digital Graphics</a>
              <a href="/src/units/7.html">Unit 7 - Creating Digital Video</a>
              <a href="/src/units/9.html">Unit 9 - Spreadsheet Development</a>
              <a href="/src/units/11.html">Unit 11 - Computer Networks</a>
              <a href="/src/units/12.html">Unit 12 - Software Development</a>
              <a href="/src/units/13.html">Unit 13 - Website Development</a>
            </div>
          </div>
        <div class="dropdown">
            <button class="dropbtn">Personal Projects
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
              <a href="/src/personalprojects/discordbotcompany.html">Discord Bot Company</a>
              <a href="/comingsoon.html">Factory Tycoon</a>
              <a href="/comingsoon.html">SDV</a>
              <a href="/src/personalprojects/DC.html">Home Network</a>
              
            </div>
          </div>
        <a href=/src/about.html>Units</a>
        <a href=/src/reviews.html>Reviews</a> 
    </div>
</head>

<body>
  <form id="reviewForm">
    <label for="fname">Name:</label>
    <br>
    <input type="text" id="fname" name="fname"><br><br>

    <label for="review">Review:</label>
    <br>
    <textarea id="review" name="review" rows="4" cols="50"></textarea><br><br>

    <fieldset>
      <legend>Ratings:</legend>
      <input type="radio" id="1star" name="rating" value="1">
      <label for="1star">1 Star</label><br>
      <input type="radio" id="2stars" name="rating" value="2">
      <label for="2stars">2 Stars</label><br>
      <input type="radio" id="3stars" name="rating" value="3">
      <label for="3stars">3 Stars</label><br>
      <input type="radio" id="4stars" name="rating" value="4">
      <label for="4stars">4 Stars</label><br>
    </fieldset>

    <br><br>
    <input type="submit" value="Submit Review">
  </form>

  <script>
    document.querySelector('#reviewForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = new FormData(e.target);
      const data = {
          name: formData.get("fname"),
          review: formData.get("review"),
          rating: formData.get("rating")
      };

      const response = await fetch('/api/submit_review', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
      });

      if (response.ok) {
          window.location.href = '/src/reviewcomplete.html';
      } else {
          alert('There was an error submitting your review. Please try again.');
      }
    });
  </script>
</body>

<footer>
  <h3>Â© Callum Janes 2023</h3>
</footer>